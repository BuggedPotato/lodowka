(()=>{"use strict";var t,e,n,o={821:(t,e,n)=>{n.d(e,{d:()=>o});var o=function(){function t(){}return t.showEditForm=function(){document.getElementById("wysiwyg").style.display="flex",t.addButtonsToStatus()},t.hideEditForm=function(e){e.preventDefault(),document.getElementById("wysiwyg").style.display="none",t.removeButtonsFromStatus()},t.addButtonsToStatus=function(){var e=document.getElementsByClassName("tox-statusbar__text-container")[0],n=document.createElement("button");n.classList.add("btnTinyMCE"),n.id="TinyMCECancel",e.appendChild(n);var o=document.createElement("button");o.classList.add("btnTinyMCE"),o.id="TinyMCESave",e.appendChild(o),n.addEventListener("click",t.hideEditForm)},t.removeButtonsFromStatus=function(){var t=document.getElementsByClassName("tox-statusbar__text-container")[0],e=document.getElementById("TinyMCECancel"),n=document.getElementById("TinyMCESave");t.removeChild(e),t.removeChild(n)},t.scriptSource="https://cdn.tiny.cloud/1/s50o1drzeq136sblv5lon7ji7r5esiq2o5ycwl1kwwypxa91/tinymce/5/tinymce.min.js",t}()}},i={};function s(t){var e=i[t];if(void 0!==e)return e.exports;var n=i[t]={exports:{}};return o[t](n,n.exports,s),n.exports}s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t=s(821),e=function(){function e(t,e,n,o,i){void 0===n&&(n={x:160,y:160}),void 0===o&&(o={x:100,y:100}),void 0===i&&(i="Hello there!"),this.id=t,this.parentFunctions=e,this.size=n,this.position=o,this.text=i,this.zIndex=100}return e.prototype.getNoteHTML=function(){var t=document.createElement("div");t.classList.add("note"),t.id=this.id.toString(),t.style.width=this.size.x.toString()+"px",t.style.height=this.size.y.toString()+"px",t.style.top=this.position.y.toString()+"px",t.style.left=this.position.x.toString()+"px",t.innerText=this.text;var e=document.createElement("img");e.classList.add("icon"),e.classList.add("delNote"),e.src="./gfx/crossIcon.png",t.appendChild(e);var n=document.createElement("img");n.classList.add("icon"),n.classList.add("resizeNote"),n.src="./gfx/resizeIcon.jpeg",t.appendChild(n);var o=document.createElement("img");return o.classList.add("icon"),o.classList.add("editNote"),o.src="./gfx/editIcon.png",t.appendChild(o),this.setEvents(t,e,n,o),t},e.prototype.setEvents=function(e,n,o,i){var s=this;e.addEventListener("mousedown",(function(t){s.zIndex=s.parentFunctions.getTopIndex(),console.log("zIndex: "+s.zIndex),e.style.zIndex=s.zIndex.toString(),s.doTheDragThingy(t,e)})),n.addEventListener("click",(function(t){n.parentNode.parentNode.removeChild(e),s.parentFunctions.deleteNote(s.id)})),o.addEventListener("mousedown",(function(t){s.resizeMe(t,o,e)})),i.addEventListener("click",(function(e){t.d.showEditForm()}))},e.prototype.doTheDragThingy=function(t,e){e.style.backgroundColor="#ffebcc";var n=t.clientX,o=t.clientY,i=e.offsetLeft,s=e.offsetTop,r=n-i,d=o-s;function c(t){var n=t.clientX-r,o=t.clientY-d;e.style.left=n.toString()+"px",e.style.top=o.toString()+"px",this.position={x:n,y:o},t.stopPropagation()}document.addEventListener("mousemove",c,!0),document.addEventListener("mouseup",(function t(n){document.removeEventListener("mousemove",c,!0),document.removeEventListener("mouseup",t,!0),e.style.backgroundColor="papayawhip",n.stopPropagation()}),!0),t.stopPropagation(),t.preventDefault()},e.prototype.resizeMe=function(t,e,n){var o=t.clientX,i=t.clientY,s=e.offsetLeft,r=e.offsetTop,d=o-s,c=i-r;function a(t){var e=t.clientX-d+20,o=t.clientY-c+20;e=e<=100?parseInt(n.style.width.replace("px","")):e,o=o<=100?parseInt(n.style.height.replace("px","")):o,n.style.width=e.toString()+"px",n.style.height=o.toString()+"px",this.size={x:e,y:o},t.stopPropagation()}document.addEventListener("mousemove",a,!0),document.addEventListener("mouseup",(function t(e){document.removeEventListener("mousemove",a,!0),document.removeEventListener("mouseup",t,!0),e.stopPropagation()}),!0),t.stopPropagation(),t.preventDefault()},e.prototype.getSize=function(){return this.size},e}(),n=new(function(){function t(t,e,n){var o=this;void 0===e&&(e=0),void 0===n&&(n=0),this.stickyNotes=[],this.topIndex=0,this.functions4Notes={getTopIndex:function(){return o.topIndex++,o.topIndex},deleteNote:function(t){o.stickyNotes=o.stickyNotes.filter((function(e){return e.id!=t||(o.currentNotes--,o.updateFridge(),!1)}))}},this.name=t,this.totalNotes=e,this.currentNotes=n}return t.prototype.addStickyNote=function(){var t=new e(this.topIndex+1,this.functions4Notes);this.stickyNotes.push(t),this.currentNotes=this.stickyNotes.length,this.topIndex++,this.totalNotes++,this.updateFridge()},t.prototype.renderNotes=function(t){this.stickyNotes.map((function(e){document.getElementById(e.id.toString())||document.getElementById(t).appendChild(e.getNoteHTML())}))},t.prototype.updateFridge=function(){document.getElementById("totalNotes").innerText="Przebieg: "+this.totalNotes.toString(),document.getElementById("currentNotes").innerText="Karteczki: "+this.currentNotes.toString()},t}())("This a fridge"),document.getElementById("newNote").addEventListener("click",(function(){console.log("opachkii"),n.addStickyNote(),n.renderNotes("fridge")}))})();